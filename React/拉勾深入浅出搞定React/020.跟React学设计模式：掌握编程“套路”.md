当我们谈论 React 设计模式时，实际上是在谈论“React 组件的设计模式”，在 React 设计模式中，最重要、也是最为大家所津津乐道的几个模式分别是：
1. 高阶组件HOC
2. Render Props
3. 剥离有状态组件与无状态组件

终极目标：以尽可能优雅的姿态，实现组件逻辑的复用

“单一职责”和“开放封闭”，重要的设计原则

Q：设计模式是否是万能的？如果不是，那么对框架来说，还有没有更加深刻、彻底的解法呢？

一、HOC

最经典的组件逻辑复用方式

什么是高阶组件：高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式；在概念上沿袭了高阶函数（接收哈娜恕作为入参或者输出另一个函数的一类函数）

如何实现逻辑复用：使用组件包裹

高阶组件可以帮助我们从根本上减少重复的编写和修改工作，这不仅是高阶组件这一种模式的利好，更是“逻辑复用”这件事情的意义所在

二、Render Props

高阶组件的使用姿势是用“函数”包裹“组件”，而 render props 恰恰相反，它强调的是用“组件”包裹“函数”

一个简单的：
```
import React from 'react'  
const RenderChildren = (props) => {
  return(
     <React.Fragment>
        {props.children(props)}
     </React.Fragment>
  );
};
```

- render props 的载体应该是一个React 组件，这一点是与高阶组件不同的（高阶组件本质是函数）
- render props 组件正常工作的前提是它的子组件需要以函数形式存在

这样用：
```
<RenderChildren>         
  {() => <p>我是 RenderChildren 的子组件</p>}       
</RenderChildren>
```

具体可以再了解一下，其实就是：属性可以接收函数作为参数，然后去执行

高阶组件 VS render props
- render props 将是你更好的选择，因为它更灵活
- 在于对数据的处理上：在高阶组件中，目标组件对于数据的获取没有主动权，数据的分发逻辑全部收敛在高阶组件的内部；而在 render props 中，除了父组件可以对数据进行分发处理之外，子组件也可以选择性地对数据进行接收
- 开放封闭原则

三、有状态与无状态组件

四、Why Hooks：设计模式解决不了所有的问题

就React来说，无论是高阶组件，还是 render props，两者的出现都是为了弥补类组件在“逻辑复用”这个层面的不灵活性。它们各自都有着自己的不足，这些不足包括但不限于以下几点：
1. 嵌套地狱问题，当嵌套层级过多后，数据源的追溯会变得十分困难
2. 较高的学习成本
3. props 属性命名冲突问题

总体来看，“HOC/render props+类组件”这种研发模式，还是不够到位。
当设计模式解决不了问题时，我们本能地需要从编程模式上寻找答案。于是便有了如今大家在 React 中所看到的 “函数式编程”对“面向对象”的补充（并且大有替代之势），有了今天我们所看到的“一切皆可 Hooks”的大趋势

现在，当我们想要去复用一段逻辑时，第一反应肯定不是“高阶函数”或者“render props”，而应该是“自定义 Hook”。Hooks 能够很好地规避掉旧时类组件中各种设计模式带来的弊端，比如说它不存在嵌套地狱，允许属性重命名、允许我们在任何需要它的地方引入并访问目标状态等。由此可以看出，一个好的编程模式可以帮我们节约掉大量“打补丁”式地学习各种组件设计模式的时间。框架设计越合理，开发者的工作就越轻松



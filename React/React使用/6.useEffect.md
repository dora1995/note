### useEffect

React提供useEffect作为在**组件在render-完成挂载-dom渲染完**成后的钩子；可以在此钩子中做操作dom，数据请求等一些副作用；效果类似于componentDidMount

useEffect接收两个参数，一是回调函数，二是依赖项数组；函数组件每次更新都会触发effect（state或props更新都会触发组件更新），依赖项更像是effect调用限定条件：**只有依赖项中的值对比改变时，才会触发回调函数**；效果类似于componentDidUpdate


回调函数内部可以再返回一个函数，作为依赖性变化时，首先进行卸载操作，用于清除这些副作用，如取消监听，定时器等

基本使用：
```
const [name, setName] = useState('test')
useEffect(() => {
    console.log(name)
    return () => {
        console.log('unmount!', name)
    }
}, [name])

// 'test'
// todo change name => setName('change')
// 'unmount! test'
// 'change'
```

```
console.log('render-one')
const [name, setName] = useState('test')
useEffect(() => {
    console.log(name)
    return () => {
        console.log('unmount!', name)
    }
}, [name])
console.log('render-two')

// 'render-one' 'render-two' 'test'
// todo change name => setName('change')
// // 'render-one' 'render-two'
// 'unmount! test'
// 'change'

```

```
useEffect(() => {
    console.log('efect!')
    return () => {
        console.log('unmount!')
    }
}, [])

```
